<!--
# INITIAL: Aug 11 2011
# PURPOSE: Not documented
#
# This file is part of PyFarm.
# Copyright (C) 2008-2011 Oliver Palmer
#
# PyFarm is free software: you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# PyFarm is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with PyFarm.  If not, see <http://www.gnu.org/licenses/>.
-->
<CONFIG>
	<levels>
		<!--
			Variables:
				name (required):
					The name of the level to be displayed
			
				method(optional, see case below):
					The name of the method to be called, this value is not optional
					if the name contains whitespace or non-ascii characters.
					
				handlers:
					A comma separated list of handlers to call when the level
					is triggered.  If no handlers then the default will be used.
		-->
		<level name="deep debug" method="deepDebug" handlers="handlers.inspector" />
		<level name="exception" handlers="handlers.exception" /> 
		<level name="debug" />
		<level name="error" handlers="handlers.stderr" />
		<level name="info" />
	</levels>
	
	<handlers>
		<default format="default" stream="streams.stdout" />
		<exception format="exception" stream="streams.exceptions" />
		<file format="default" stream="streams.file" />
		<debug format="debugBasic" stream="streams.stdout" />
		<stderr format="debugFull" streams="streams.stderr" />
	</handlers>
	
	<preformats>
		<!--
			A section of formats which are 'preconfigured'
			and prepared at runtime.  Preformats starting with
			timestamp can be used for timestamp configuration.
			For preformats which begin with debug.
			
			Variables:
				%var:    time formatting
				$module: module log is being emitted from
				$class:  class log is emitted from
				$method: method name log is emitted from
				$line:   line where emission occurs
		-->
		<timestampDefault format="%x %X" />
		<debugBasic format="$module[$line]" />
		<debugFull format="$module.$class.$method[$line]" />
	</preformats>
	
	<formats>
		<!--
			Variables
				preformat.X: value X from preformats
				level:       name of the current level
				levelId:     integer value of the level
				message:     the log message
		-->
		<default format="$preformats.timestampDefault - [ $level ] - $message" />
		<exception format="EXCEPTION - $preformats.debugFull - $message" />
		<debug format="$preformats.timestampDefault - [ $level ] - $message" />
	</formats>
</CONFIG>