<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD           */
/* CACHE FILE: Skin set id: 3                     */
/* CACHE FILE: Generated: Wed, 12 Nov 2008 04:54:08 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_ucp_3 {

 var $ipsclass;
//===========================================================================
// <ips:attachments_row:desc::trigger:>
//===========================================================================
function attachments_row($data="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr id=\"{$data['attach_id']}\">
		<td align=\"center\" class=\"row1\"><img src=\"{$this->ipsclass->vars['mime_img']}/{$data['image']}\" alt=\"{$this->ipsclass->lang['attached_file']}\" /></td>
		<td class=\"row2\">
			<a href=\"{$this->ipsclass->base_url}act=Attach&amp;type={$data['_type']}&amp;id={$data['attach_id']}\" title=\"{$data['attach_file']}\" target=\"_blank\">{$data['short_name']}</a>
			<div class=\"desc\">( {$this->ipsclass->lang['attach_hits']}: {$data['attach_hits']} )</div>
		</td>
		<td align=\"center\" class=\"row1\">{$data['real_size']}</td>
		<td class=\"row2\">
" . (($data['attach_rel_id'] > 0 AND $data['attach_rel_module'] == 'post') ? ("
<a href=\"{$this->ipsclass->base_url}showtopic={$data['tid']}&amp;view=findpost&amp;p={$data['attach_rel_id']}\">{$data['title']}</a>
") : ("
{$data['title']}
")) . "
				<br />
			<span class=\"desc\">{$data['attach_date']}</span>
		</td>
		<td class=\"row2\" align=\"center\"><input type=\"checkbox\" name=\"attach_{$data['attach_id']}\" value=\"1\" class=\"checkbox\" /></td>
	</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:attachments_top:desc::trigger:>
//===========================================================================
function attachments_top($info="",$pages="",$attach_html="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<!-- inbox folder -->
<div class=\"subtitle\">{$this->ipsclass->lang['m_attach']}</div>
" . (($info['has_limit'] == 1) ? ("
<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<td valign=\"middle\">
				<!-- LEFT -->
				<table class='ipbtable' cellspacing=\"0\">
					<tr>
						<td class=\"row1\" colspan=\"3\">{$this->ipsclass->lang['attach_space_used']}</td>
					</tr>
					<tr>
						<td valign=\"middle\" class=\"row1\" colspan=\"3\" width='100%'><{BAR_LEFT}><img src=\"{$this->ipsclass->vars['img_url']}/bar.gif\" width=\"{$info['img_width']}\" height=\"11\" align=\"middle\" alt=\"\" /><{BAR_RIGHT}></td>
					</tr>
					<tr>
						<td class=\"row1\" width=\"33%\" valign=\"middle\">0%</td>
						<td class=\"row1\" width=\"33%\" align=\"center\" valign=\"middle\">50%</td>
						<td class=\"row1\" width=\"33%\" align=\"right\" valign=\"middle\">100%</td>
					</tr>
				</table>
			</td>
			
			<!-- RIGHT -->
			<td align=\"right\" valign=\"bottom\">$pages<br /><br />{$this->ipsclass->lang['attach_space_count']}</td>
		</tr>
	</table>
") : ("
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td>
			<!-- LEFT -->
			{$this->ipsclass->lang['attach_space_used']}
		</td>
		<td align=\"right\">
			<!-- RIGHT -->
			$pages
		</td>
	</tr>
</table>
")) . "
<!-- ATTACHMENTS TABLE -->
  
<form action=\"{$this->ipsclass->base_url}act=usercp&amp;CODE=attach&amp;sort={$this->ipsclass->input['sort']}\" name=\"mutliact\" method=\"post\">
<div class=\"borderwrapm\">
	<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<th width=\"2%\">&nbsp;</th>
			<th width=\"35%\"><b>{$this->ipsclass->lang['attach_title']}</b></th>
			<th width=\"5%\"><b>{$this->ipsclass->lang['attach_hsize']}</b></th>
			<th width=\"27%\"><b>{$this->ipsclass->lang['attach_topic']}</b></th>
			<th width=\"5%\" align=\"center\" style='padding:1px;'><input name=\"allbox\" type=\"checkbox\" class='checkbox' value=\"Check All\" onclick=\"InboxCheckAll();\" /></th>
		</tr>
" . (($attach_html != "") ? ("
{$attach_html}
		<tr>
			<td colspan=\"5\" align=\"right\" class=\"formbuttonrow\"><input type=\"submit\" value=\"{$this->ipsclass->lang['attach_delete']}\" class=\"button\" /></td>
		</tr>
") : ("
<tr>
			<td colspan=\"5\" align=\"center\" class='row2'><strong>{$this->ipsclass->lang['splash_noattach']}</strong></td>
		</tr>
")) . "
	</table>
</div>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_autosize:desc::trigger:>
//===========================================================================
function avatar_autosize() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class=\"pformleft\">&nbsp;</td>
		<td class=\"pformright\"><b>{$this->ipsclass->lang['av_autosize']}</b><br />({$this->ipsclass->lang['av_as_desc']})</td>
	</tr>
</table>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_external_title:desc::trigger:>
//===========================================================================
function avatar_external_title() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['avatar_url_title']}</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_gallery_blank_row:desc::trigger:>
//===========================================================================
function avatar_gallery_blank_row() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<td>&nbsp;</td>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_gallery_cell_row:desc::trigger:>
//===========================================================================
function avatar_gallery_cell_row($img="",$txt="",$form="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<td align=\"center\"><img src=\"style_avatars{$img}\" alt=\"txt\" /><br /><input type=\"radio\" class=\"radiobutton\" name=\"avatar\" value=\"$form\" id=\"$form\" />&nbsp;<b><label for=\"$form\">$txt</label></b></td>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_gallery_end_row:desc::trigger:>
//===========================================================================
function avatar_gallery_end_row() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_gallery_end_table:desc::trigger:>
//===========================================================================
function avatar_gallery_end_table() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "</table>
<div align=\"center\" class=\"subtitle\">
	<input type=\"submit\" class=\"button\" value=\"{$this->ipsclass->lang['av_gall_submit']}\" />
	&nbsp;&nbsp;&nbsp;<input type=\"button\" class='button' name=\"remove\" onclick=\"self.location='{$this->ipsclass->base_url}act=UserCP&amp;CODE=24';\" value=\"{$this->ipsclass->lang['av_gall_cancel']}\" />
</div>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_gallery_start_row:desc::trigger:>
//===========================================================================
function avatar_gallery_start_row() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_gallery_start_table:desc::trigger:>
//===========================================================================
function avatar_gallery_start_table($title="",$av_gals="",$current_folder="",$key="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['av_gallery_title']} $title</div>
<form action=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=getgallery\" method=\"post\">
	<div id=\"padandcenter\"><b>{$this->ipsclass->lang['av_gall_jump']}</b>&nbsp;$av_gals&nbsp;&nbsp;<input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['av_go_go']}\" name=\"submit\" /></div>
</form>
<form action=\"{$this->ipsclass->base_url}auth_key=$key\" method=\"post\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"setinternalavatar\" />
<input type=\"hidden\" name=\"current_folder\" value=\"$current_folder\" />
	<table class='ipbtable' cellspacing=\"0\">";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_limits:desc::trigger:>
//===========================================================================
function avatar_limits() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['av_settings']}</div>
	<p>{$this->ipsclass->lang['av_text_url']} {$this->ipsclass->lang['av_text_upload']}<br />{$this->ipsclass->lang['av_allowed_files']}</p>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_main:desc::trigger:>
//===========================================================================
function avatar_main($data="",$formextra="",$hidden_field="",$key="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<script type=\"text/javascript\">
<!--
var url_input      = \"{$data['current_url_avatar']}\";
var remove_pressed = 0;
	function select_url(){
		restore_it();
	}
	
	function select_upload(){
		try{
			if ( document.creator.url_avatar.value != \"\" ) {
				url_input = document.creator.url_avatar.value;
			}
			document.creator.url_avatar.value = \"\";
		}
		catch(nourl){
			return true;
		}
	}
	
	function restore_it(){
		if (url_input != \"\"){
			document.creator.url_avatar.value = url_input;
			}
		}
	function checkform(){
		if ( remove_pressed != 1 ){
			return true;
		}
	
		else{
			fcheck = confirm(\"{$this->ipsclass->lang['av_confirm']}\");
			if ( fcheck == true ){
				return true;
			}
			else{
				remove_pressed = 0;
				return false;
				}
			}
	}
-->
</script>
<!--IBF.LIMITS_AVATAR-->
<div class=\"subtitle\">{$this->ipsclass->lang['av_current']}</div>
<div class=\"tablepad\" align=\"center\">{$data['current_avatar_image']}<br />{$data['current_avatar_type']} {$data['current_avatar_dims']}</div>
<div class=\"subtitle\">{$this->ipsclass->lang['avatar_pre_title']}</div>
<form action=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=getgallery\" method=\"post\">
	<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<td class=\"pformleft\">{$this->ipsclass->lang['av_go_gal']}</td>
			<td class=\"pformright\">{$data['avatar_galleries']}&nbsp;&nbsp;<input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['av_go_go']}\" name=\"submit\" /></td>
		</tr>
	</table>
</form>
<form action=\"{$this->ipsclass->base_url}auth_key=$key\" method=\"post\" $formextra name=\"creator\" onsubmit=\"return checkform();\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"25\" />
$hidden_field
<!--IBF.EXTERNAL_TITLE-->
<!--IBF.URL_AVATAR-->
<!--IBF.UPLOAD_AVATAR-->
<!--IPB.SIZE-->
	<div align=\"center\" class=\"formsubtitle\">
		<input type=\"submit\" value=\"{$this->ipsclass->lang['av_update']}\" class='button' />
		&nbsp;&nbsp;&nbsp;<input type=\"submit\" name=\"remove\" onclick=\"remove_pressed=1;\" class='button' value=\"{$this->ipsclass->lang['av_remove']}\" />
	</div>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_mansize:desc::trigger:>
//===========================================================================
function avatar_mansize() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class=\"pformleft\">&nbsp;</td>
		<td class=\"pformright\"><b>{$this->ipsclass->lang['width']}</b>&nbsp;<input type=\"text\" size=\"3\" name=\"man_width\" />&nbsp;&nbsp;<b>{$this->ipsclass->lang['height']}</b>&nbsp;<input type=\"text\" size=\"3\" name=\"man_height\" /></td>
	</tr>
</table>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_upload_field:desc::trigger:>
//===========================================================================
function avatar_upload_field() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class=\"pformleft\">{$this->ipsclass->lang['av_upload']}</td>
		<td class=\"pformright\"><input type=\"file\" size=\"30\" name=\"upload_avatar\" onfocus=\"select_upload()\" onclick=\"select_upload()\" /></td>
	</tr>
</table>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:avatar_url_field:desc::trigger:>
//===========================================================================
function avatar_url_field($avatar="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class=\"pformleft\">{$this->ipsclass->lang['av_url']}</td>
		<td class=\"pformright\"><input type=\"text\" size=\"40\" maxlength=\"80\" name=\"url_avatar\" value=\"$avatar\" onfocus=\"select_url()\" />&nbsp;&nbsp;(<a href=\"javascript:restore_it()\">{$this->ipsclass->lang['pp_restore']}</a>)</td>
	</tr>
</table>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:CP_end:desc::trigger:>
//===========================================================================
function CP_end() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "</div>
		</td>
	</tr>
</table>
	<!-- end main CP area -->
	<br style=\"clear: both;\" />";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:dead_section:desc::trigger:>
//===========================================================================
function dead_section() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['dead_section_title']}</div>
<p>
	{$this->ipsclass->lang['dead_section_text']}
</p>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:email:desc::trigger:>
//===========================================================================
function email($Profile="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action=\"{$this->ipsclass->base_url}auth_key={$Profile['key']}\" method=\"post\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"03\" />
<div class=\"subtitle\">{$this->ipsclass->lang['privacy_settings']}</div>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class='row1' align=\"right\" valign=\"top\"><input class='checkbox'  type=\"checkbox\" name=\"hide_email\" value=\"1\" {$Profile['hide_email']} /></td>
		<td class='row2' width=\"100%\">{$this->ipsclass->lang['hide_email']}</td>
	</tr>
	<tr>
		<td class='row1' align=\"right\" valign=\"top\"><input class='checkbox' type=\"checkbox\" name=\"admin_send\" value=\"1\" {$Profile['allow_admin_mails']} /></td>
		<td class='row2'  width=\"100%\">{$this->ipsclass->lang['admin_send']}</td>
	</tr>
</table>
<div class=\"subtitle\">{$this->ipsclass->lang['board_prefs']}</div>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class='row1'align=\"right\" valign=\"top\"><input class='checkbox' type=\"checkbox\" name=\"send_full_msg\" value=\"1\" {$Profile['email_full']} /></td>
		<td class='row2'  width=\"100%\">{$this->ipsclass->lang['send_full_msg']}</td>
	</tr>
	<tr>
		<td class='row1' align=\"right\" valign=\"top\"><input class='checkbox' type=\"checkbox\" name=\"pm_reminder\" value=\"1\" {$Profile['email_pm']} /></td>
		<td class='row2'  width=\"100%\">{$this->ipsclass->lang['pm_reminder']}</td>
	</tr>
	<tr>
		<td class='row1' align=\"right\" valign=\"top\"><input class='checkbox' type=\"checkbox\" name=\"auto_track\" value=\"1\" {$Profile['auto_track']} /></td>
		<td class='row2'  width=\"100%\">
			{$this->ipsclass->lang['auto_track']}
				<select name=\"trackchoice\">
					<option value=\"none\">{$this->ipsclass->lang['subs_none_title']}</option>
					<option value=\"immediate\">{$this->ipsclass->lang['subs_immediate']}</option>
					<option value=\"delayed\">{$this->ipsclass->lang['subs_delayed']}</option>
					<option value=\"daily\">{$this->ipsclass->lang['subs_daily']}</option>
					<option value=\"weekly\">{$this->ipsclass->lang['subs_weekly']}</option>
				</select>
					<br />
			{$this->ipsclass->lang['auto_track_desc']}
		</td>
	</tr>
	<tr>
		<td class=\"formbuttonrow\" colspan=\"2\"><input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['submit_email']}\" /></td>
	</tr>
</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:email_change:desc::trigger:>
//===========================================================================
function email_change($txt="",$msg="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<script type=\"text/javascript\">
var msg = \"$msg\";
	if ( msg != \"\"){
		alert(msg);
	}
</script>
<form action=\"{$this->ipsclass->base_url}\" method=\"post\" name=\"form1\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"09\" />
<div class=\"subtitle\">{$this->ipsclass->lang['change_email_title']}</div>
<p>
	$txt
</p>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class='row1' width=\"40%\"><b>{$this->ipsclass->lang['ce_new_email']}</b></td>
		<td class='row2'><input type=\"text\" name=\"in_email_1\" value=\"\" /></td>
	</tr>
	<tr>
		<td class='row1'><b>{$this->ipsclass->lang['ce_new_email2']}</b></td>
		<td class='row2'><input type=\"text\" name=\"in_email_2\" value=\"\" /></td>
	</tr>
	<tr>
		<td class='row1'><b>{$this->ipsclass->lang['ec_passy']}</b></td>
		<td class='row2'><input type=\"password\" name=\"password\" value=\"\" /></td>
	</tr>
</table>
<!--ANTIBOT-->
	<div class=\"formbuttonrow\" style=\"text-align: center;\"><input type=\"submit\" class='button' name=\"change_email\" value=\"{$this->ipsclass->lang['account_email_submit']}\" /></div>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:email_change_gd:desc::trigger:>
//===========================================================================
function email_change_gd($regid="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['ras_title']}</div>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td width=\"40%\">{$this->ipsclass->lang['ras_numbers']}</td>
		<td>
			<input type=\"hidden\" name=\"regid\" id='regid' value=\"$regid\" />
			<img id='gd-antispam' src=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=show_image&amp;rc={$regid}\" alt=\"Code Bit\" title=\"{$this->ipsclass->lang['gbl_gd_reload']}\" />
		</td>
	</tr>
	<tr>
		<td width=\"40%\">{$this->ipsclass->lang['ras_text']}</td>
		<td><input type=\"text\" size=\"32\" maxlength=\"32\" name=\"reg_code\" /></td>
	</tr>
</table>
<script type='text/javascript'>
	init_gd_image();
</script>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:email_change_img:desc::trigger:>
//===========================================================================
function email_change_img($regid="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['ras_title']}</div>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class='row1' width=\"40%\">{$this->ipsclass->lang['ras_numbers']}</td>
		<td class='row2'>
			<input type=\"hidden\" name=\"regid\" value=\"$regid\" />
				<img src=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=show_image&amp;rc={$regid}&amp;p=1\" alt=\"Code Bit\" />
				&nbsp;<img src=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=show_image&amp;rc={$regid}&amp;p=2\" alt=\"Code Bit\" />
				&nbsp;<img src=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=show_image&amp;rc={$regid}&amp;p=3\" alt=\"Code Bit\" />
				&nbsp;<img src=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=show_image&amp;rc={$regid}&amp;p=4\" alt=\"Code Bit\" />
				&nbsp;<img src=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=show_image&amp;rc={$regid}&amp;p=5\" alt=\"Code Bit\" />
				&nbsp;<img src=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=show_image&amp;rc={$regid}&amp;p=6\" alt=\"Code Bit\" />
		</td>
	</tr>
	<tr>
		<td class='row1' width=\"40%\">{$this->ipsclass->lang['ras_text']}</td>
		<td class='row2'><input type=\"text\" size=\"32\" maxlength=\"32\" name=\"reg_code\" /></td>
	</tr>
</table>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:field_dropdown:desc::trigger:>
//===========================================================================
function field_dropdown($name="",$options="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<select name=\"$name\">
	$options
</select>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:field_entry:desc::trigger:>
//===========================================================================
function field_entry($title="",$desc="",$content="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
	<td width=\"30%\" class=\"row1\" style='padding:6px;' valign='top'>
		<b>$title</b><br />$desc
	</td>
	<td width=\"70%\" class=\"row2\" style='padding:6px;'>
		$content
	</td>
</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:field_textarea:desc::trigger:>
//===========================================================================
function field_textarea($name="",$value="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<textarea cols=\"60\" rows=\"5\" wrap=\"soft\" name=\"$name\">$value</textarea>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:field_textinput:desc::trigger:>
//===========================================================================
function field_textinput($name="",$value="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<input type=\"text\" size=\"50\" name=\"$name\" value='$value' />";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:forum_jump:desc::trigger:>
//===========================================================================
function forum_jump($data="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"borderwrap\">
<div align=\"right\" class=\"row1\" style=\"padding: 5px;\">{$data}</div>
</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:forum_subs_end:desc::trigger:>
//===========================================================================
function forum_subs_end() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
		<td align=\"right\" class=\"formbuttonrow\" valign=\"middle\" colspan=\"6\">
			<select name=\"trackchoice\">
				<option value=\"unsubscribe\">{$this->ipsclass->lang['subs_delete']}</option>
				<option value=\"none\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_none_title']}</option>
				<option value=\"immediate\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_immediate']}</option>
				<option value=\"delayed\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_delayed']}</option>
				<option value=\"daily\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_daily']}</option>
				<option value=\"weekly\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_weekly']}</option>
			</select>&nbsp;&nbsp;
			<input type=\"submit\" class=\"button\" value=\"{$this->ipsclass->lang['with_selected']}\" />
		</td>
	</tr>
</table>
</div>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:forum_subs_header:desc::trigger:>
//===========================================================================
function forum_subs_header() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<!-- inbox folder -->
<script type=\"text/javascript\">
<!--
	function CheckAll(cb){
		var fmobj = document.mutliact;
			for (var i=0;i<fmobj.elements.length;i++){
				var e = fmobj.elements[i];
				if ((e.name != \"allbox\") && (e.type==\"checkbox\") && (!e.disabled)){
				e.checked = fmobj.allbox.checked;
				}
			}
	}
	function CheckCheckAll(cb){	
		var fmobj = document.mutliact;
		var TotalBoxes = 0;
		var TotalOn = 0;
			for (var i=0;i<fmobj.elements.length;i++){
		  		var e = fmobj.elements[i];
		 		 if ((e.name != \"allbox\") && (e.type==\"checkbox\")){
			 		 TotalBoxes++;
			 		 if (e.checked){
				 		 TotalOn++;
				 	}
				 }
			}
			
			if (TotalBoxes==TotalOn) {fmobj.allbox.checked=true;}
			else{
				fmobj.allbox.checked=false;
			}
	}
-->
</script>
<form action=\"{$this->ipsclass->base_url}\" name=\"mutliact\" method=\"post\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"51\" />
<div class=\"subtitle\">{$this->ipsclass->lang['forum_subs_header']}</div>
<div class=\"borderwrapm\">
	<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<th width=\"5%\">&nbsp;</th>
			<th width=\"50%\">{$this->ipsclass->lang['ft_forum']}</th>
			<th align=\"center\" width=\"5%\">{$this->ipsclass->lang['ft_topics']}</th>
			<th align=\"center\" width=\"5%\">{$this->ipsclass->lang['ft_posts']}</th>
			<th align=\"center\" width=\"35%\">{$this->ipsclass->lang['ft_last_post']}</th>
			<th align=\"center\" width=\"5%\" style='padding: 1px;'><input name=\"allbox\" class='checkbox' type=\"checkbox\" value=\"Check All\" onclick=\"CheckAll();\" /></th>
		</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:forum_subs_none:desc::trigger:>
//===========================================================================
function forum_subs_none() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
		<td class=\"row1\" align=\"center\" colspan=\"6\">{$this->ipsclass->lang['forum_subs_none']}</td>
	</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:forum_subs_row:desc::trigger:>
//===========================================================================
function forum_subs_row($data="",$type="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
		<td class=\"row1\" align=\"center\" width=\"5%\">{$data['folder_icon']}</td>
		<td class=\"row1\">
			<b><a href=\"{$this->ipsclass->base_url}act=SF&amp;f={$data['id']}\">{$data['name']}</a></b>
			<div class=\"desc\">
				{$data['description']}
					<br />
				{$this->ipsclass->lang['subs_c_type']}: {$this->ipsclass->lang[$type]}
			</div>
		</td>
		<td class=\"row1\" align=\"center\">{$data['topics']}</td>
		<td class=\"row1\" align=\"center\">{$data['posts']}</td>
		<td class=\"row1\">{$data['last_post']}<br />{$this->ipsclass->lang['in']} {$data['last_topic']}<br />{$this->ipsclass->lang['by']} {$data['last_poster']}</td>
		<td class=\"row1\" align=\"center\"><input class='checkbox' type=\"checkbox\" name=\"id-{$data['forum_id']}\" value=\"yes\" /></td>
	</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:iu_add_new:desc::trigger:>
//===========================================================================
function iu_add_new() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "</table>
</div>
<br />
<script type=\"text/javascript\" src='jscripts/ipb_xhr_findnames.js'></script>
<div id='ipb-get-members' style='border:1px solid #000; background:#FFF; padding:2px;position:absolute;width:252px;display:none;z-index:1'></div>
<div class=\"borderwrapm\">
	<table class='ipbtable' cellspacing=\"0\">
<tr>
		<td class=\"subtitle\">{$this->ipsclass->lang['mi5_addem']}</td>
	</tr>
	<tr>
		<td class=\"row1\"><input type=\"text\" size='40' name=\"newbox_1\" id=\"newbox_1\" value=\"{$this->ipsclass->input['newbox_1']}\" /></td>
	</tr>
	<tr>
		<td class=\"formbuttonrow\"><input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['mi5_edit']}\" /></td>
	</tr>
</table>
</div>
</form>
<script type=\"text/javascript\">
// INIT find names
init_js( 'REPLIER', 'newbox_1', 'get-member-names');
// Run main loop
setTimeout( 'main_loop()', 10 );
</script>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:iu_populated_row:desc::trigger:>
//===========================================================================
function iu_populated_row($member="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
		<td class='row1'><b><a href=\"{$this->ipsclass->base_url}showuser={$member['id']}\">{$member['members_display_name']}</a></b></td>
		<td class='row2'>{$member['g_title']}</td>
		<td class='row1'>{$member['posts']}</td>
		<td class='row2'><a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=ignoreremove&amp;id={$member['id']}\">{$this->ipsclass->lang['mi5_remove']}</a></td>
	</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:iu_start:desc::trigger:>
//===========================================================================
function iu_start() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action=\"{$this->ipsclass->base_url}\" method=\"post\" name=\"REPLIER\" id='REPLIER'>
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"ignoreadd\" />
<div class=\"subtitle\">{$this->ipsclass->lang['mi5_title']}</div>
<p>{$this->ipsclass->lang['mi5_text']}</p>
<div class=\"borderwrapm\">
	<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<th width=\"30%\">{$this->ipsclass->lang['mi5_name']}</th>
			<th width=\"30%\">{$this->ipsclass->lang['mi5_group']}</th>
			<th width=\"20%\">{$this->ipsclass->lang['mi5_posts']}</th>
			<th width=\"20%\">&nbsp;</th>
		</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:Menu_bar:desc::trigger:>
//===========================================================================
function Menu_bar($component_html="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<!--
TABLE TO FIX IE/6 ISSUE
The one where 23% margin + 100% table = 123% in IE6 o_O
-->
<script type=\"text/javascript\" src=\"jscripts/ipb_pm.js\"></script>
<script type=\"text/javascript\" src=\"jscripts/ipb_usercp.js\"></script>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td valign=\"top\" class=\"nopad\" width=\"25%\">
			<div id=\"ucpmenu\">
			<div class=\"maintitle\">{$this->ipsclass->lang['tt_menu']}</div>
	 		<!-- Messenger Links -->
" . (($this->ipsclass->member['g_use_pm'] == 1 AND $this->ipsclass->member['members_disable_pm'] == 0) ? ("
<div class=\"subtitle\">{$this->ipsclass->lang['m_messenger']}</div>
			<p>
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=04\"><b>{$this->ipsclass->lang['mess_new']}</b></a><br />
				<!--IBF.FOLDER_LINKS-->
				&nbsp;&nbsp; <{MSG_FOLDER}>&nbsp;<a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=20\">{$this->ipsclass->lang['mess_saved']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=delete\">{$this->ipsclass->lang['mi_prune_msg']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=07\">{$this->ipsclass->lang['mess_folders']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=02\">{$this->ipsclass->lang['mess_contact']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=14\">{$this->ipsclass->lang['mess_archive']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=30\">{$this->ipsclass->lang['mess_tracker']}</a><br />
			</p>
	 	<!-- End Messenger -->
") : ("")) . "
" . (($component_html != "") ? ("
$component_html
") : ("")) . "
        
		<!-- Topic Tracker -->
			<div class=\"subtitle\">{$this->ipsclass->lang['m_tracker']}</div>
			<p>
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=26\">{$this->ipsclass->lang['m_view_subs']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=50\">{$this->ipsclass->lang['m_view_forum']}</a><br />
			</p>
		<!-- Profile -->
			<div class=\"subtitle\">{$this->ipsclass->lang['m_personal']}</div>
			<p>
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=01\">{$this->ipsclass->lang['m_contact_info']}</a><br />
				" . ((! $this->ipsclass->vars['pp_show_classic']) ? ("
					<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=personal_portal_form\">{$this->ipsclass->lang['m_personal_portal']}</a><br />
				") : ("")) . "
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=22\">{$this->ipsclass->lang['m_sig_info']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=24\">{$this->ipsclass->lang['m_avatar_info']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=photo\">{$this->ipsclass->lang['m_change_photo']}</a><br />
				" . (($this->ipsclass->vars['auth_allow_dnames'] == 1 AND $this->ipsclass->member['g_dname_changes'] > 0) ? ("
					<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=dname_start\">{$this->ipsclass->lang['m_dname_change']}</a>
				") : ("")) . "
			</p>
		<!-- Options -->
			<div class=\"subtitle\">{$this->ipsclass->lang['m_options']}</div>
			<p>
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=paysubs&amp;CODE=index\">{$this->ipsclass->lang['new_sub_link']}</a><br />
				<!--IBF.OPTION_LINKS-->
				" . (($this->ipsclass->member['g_attach_max'] != -1) ? ("
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=attach\">{$this->ipsclass->lang['m_attach']}</a><br />
				") : ("")) . "
				" . ((! $this->ipsclass->vars['pp_show_classic']) ? ("
					<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=manage_friends\">{$this->ipsclass->lang['m_manage_friends']}</a><br />
				") : ("")) . "
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=ignore\">{$this->ipsclass->lang['m_ignore_users']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=02\">{$this->ipsclass->lang['m_email_opt']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=04\">{$this->ipsclass->lang['m_board_opt']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=08\">{$this->ipsclass->lang['m_email_change']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=28\">{$this->ipsclass->lang['m_passy_opt']}</a>
			</p>
			" . (($this->ipsclass->member['g_is_supmod'] == 1) ? ("
			<div class=\"subtitle\">{$this->ipsclass->lang['menu_title_mod']}</div>
			<p>
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=iptool\">{$this->ipsclass->lang['menu_ipsearch']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=memtool\">{$this->ipsclass->lang['menu_memsearch']}</a><br />
				<{ITEM_START}> <a href=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=announce_start\">{$this->ipsclass->lang['menu_announcements']}</a>
			</p>
			") : ("")) . "
		</div>
		</td>
		<td class=\"nopad\" width=\"1%\"><!-- --></td>
		<!-- Start main CP area -->
		<td valign=\"top\" class=\"nopad\" width=\"75%\">
			<div id=\"ucpcontent\">
			<div class=\"maintitle\">{$this->ipsclass->lang['welcome']}</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:menu_bar_msg_folder_link:desc::trigger:>
//===========================================================================
function menu_bar_msg_folder_link($id="",$real="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "&nbsp;&nbsp; <{MSG_FOLDER}>&nbsp;<a href=\"{$this->ipsclass->base_url}act=Msg&amp;CODE=01&amp;VID=$id\">$real</a><br />";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:menu_bar_new_category:desc::trigger:>
//===========================================================================
function menu_bar_new_category($title="",$content="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$title}</div>
			<p>
				$content
			</p>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:menu_bar_new_link:desc::trigger:>
//===========================================================================
function menu_bar_new_link($url="",$name="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<{ITEM_START}> <a href=\"$url\">$name</a><br />";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:mod_find_user:desc::trigger:>
//===========================================================================
function mod_find_user($msg="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form name=\"ibform\" action=\"{$this->ipsclass->base_url}act=usercp&amp;CODE=domemtool\" method=\"post\">
" . (($msg) ? ("
<div class=\"subtitle\">{$this->ipsclass->lang['ipm_title']}</div>
<p>
	$msg
</p>
<br />
") : ("")) . "
<div class=\"subtitle\">{$this->ipsclass->lang['cp_edit_user']}</div>
	<table class='ipbtable' cellspacing=\"1\">
		<tr>
			<td width=\"40%\" class=\"row1\">{$this->ipsclass->lang['cp_find_user']}</td>
			<td class=\"row1\"><input type=\"text\" size=\"40\" name=\"name\" value=\"{$this->ipsclass->input['name']}\" /></td>
		</tr>
	<tr>
		<td class=\"formbuttonrow\" colspan=\"2\"><input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['cp_find_submit']}\" /></td>
	</tr>
	</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:mod_ip_member_results:desc::trigger:>
//===========================================================================
function mod_ip_member_results($pages="",$content="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div>
	<div class=\"borderwrapm\">
		<table class='ipbtable' cellspacing=\"0\">
			<tr>
				<th width=\"20%\">{$this->ipsclass->lang['ipm_name']}</th>
				<th width=\"20%\">{$this->ipsclass->lang['ipm_ip']}</th>
				<th width=\"10%\">{$this->ipsclass->lang['ipm_posts']}</th>
				<th width=\"15%\">{$this->ipsclass->lang['ipm_reg']}</th>
				<th width=\"15%\">{$this->ipsclass->lang['ipm_group']}</th>
				<th width=\"20%\">{$this->ipsclass->lang['ipm_options']}</th>
			</tr>
			{$content}
		</table>
	</div>
	<div>$pages</div>
</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:mod_ip_member_row:desc::trigger:>
//===========================================================================
function mod_ip_member_row($row="",$auth_key="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
	<td class=\"row1\"><a href=\"{$this->ipsclass->base_url}showuser={$row['id']}\">{$row['members_display_name']}</a></td>
	<td class=\"row2\">{$row['ip_address']}</td>
	<td class=\"row1\">{$row['posts']}</td>
	<td class=\"row2\">{$row['joined']}</td>
	<td class=\"row1\">{$row['groupname']}</td>
	<td class=\"row2\" align=\"center\"><a href=\"{$this->ipsclass->base_url}act=mod&amp;CODE=editmember&amp;mid={$row['id']}&amp;auth_key=$auth_key\">{$this->ipsclass->lang['ipm_edit']}</a></td>
</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:mod_ip_post_results:desc::trigger:>
//===========================================================================
function mod_ip_post_results($uid="",$count="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "{$this->ipsclass->lang['ipp_found']} $count
<br />
<br />
<a target=\"_blank\" href=\"{$this->ipsclass->base_url}act=Search&amp;CODE=show&amp;searchid=$uid&amp;search_in=posts&amp;result_type=posts\">{$this->ipsclass->lang['ipp_click']}</a>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:mod_ip_start_form:desc::trigger:>
//===========================================================================
function mod_ip_start_form($ip="",$msg="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form name=\"ibform\" action=\"{$this->ipsclass->base_url}\" method=\"post\">
<input type=\"hidden\" name=\"s\" value=\"{$this->ipsclass->session_id}\" />
<input type=\"hidden\" name=\"act\" value=\"usercp\" />
<input type=\"hidden\" name=\"CODE\" value=\"doiptool\" />
" . (($msg) ? ("
<div class=\"subtitle\">{$this->ipsclass->lang['ipm_title']}</div>
<p>
	$msg
</p>
<br />
") : ("")) . "
<div class=\"subtitle\">{$this->ipsclass->lang['menu_ipsearch']}</div>
	<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<td width=\"40%\" class=\"row1\">{$this->ipsclass->lang['ip_enter']}</td>
			<td class=\"row2\">
				<input type=\"text\" size=\"20\" maxlength=\"24\" name=\"ip\" value=\"{$ip}\" />
				<select name=\"iptool\">
					<option value=\"resolve\">{$this->ipsclass->lang['ip_resolve']}</option>
					<option value=\"posts\">{$this->ipsclass->lang['ip_posts']}</option>
					<option value=\"members\">{$this->ipsclass->lang['ip_members']}</option>
				</select>
			</td>
		</tr>
	<tr>
		<td class=\"formbuttonrow\" style=\"text-align: center;\" colspan=\"2\"><input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['ip_submit']}\" /></td>
	</tr>
	</table>
</form>
	<br />
<div class=\"tablepad\">
	{$this->ipsclass->lang['ip_desc_text']}
	<br /><br />{$this->ipsclass->lang['ip_warn_text']}
</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:pass_change:desc::trigger:>
//===========================================================================
function pass_change() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action=\"{$this->ipsclass->base_url}\" method=\"post\" name=\"form1\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"29\" />
<p>{$this->ipsclass->lang['pass_change_text']}</p>
<div class=\"subtitle\">{$this->ipsclass->lang['account_pass_title']}</div>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class='row1'><b>{$this->ipsclass->lang['account_pass_old']}</b></td>
		<td class='row2'><input type=\"password\" name=\"current_pass\" value=\"\" /></td>
	</tr>
	<tr>
		<td class='row1'><b>{$this->ipsclass->lang['account_pass_new']}</b></td>
		<td class='row2'><input type=\"password\" name=\"new_pass_1\" value=\"\" /></td>
	</tr>
	<tr>
		<td class='row1'><b>{$this->ipsclass->lang['account_pass_new2']}</b></td>
		<td class='row2'><input type=\"password\" name=\"new_pass_2\" value=\"\" /></td>
	</tr>
	<tr>
		<td class=\"formbuttonrow\" colspan=\"2\"><input type=\"submit\" class='button' name=\"s_pass\" value=\"{$this->ipsclass->lang['account_pass_submit']}\" /></td>
	</tr>
</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:personal_manage_friends:desc::trigger:>
//===========================================================================
function personal_manage_friends($friends=0) {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div style='padding:6px;'>
<fieldset>
	<legend><strong>{$this->ipsclass->lang['pp_friends_manage_title']}</strong></legend>
	<table cellpadding='0' cellspacing='1' width='100%'>
	<tr>
		<td class=\"row1\" style='padding:6px;'>
			{$this->ipsclass->lang['pp_you_have']} <strong>$friends</strong> {$this->ipsclass->lang['pp_pending_approval']}
			<br /><a href='#' onclick='friends_pop( \"&amp;tab=pending\"); return false'>{$this->ipsclass->lang['pp_manage_friends_link']}</a>
		</td>
	</tr>
	</table>
</fieldset>
<br />
<fieldset>
	<legend><strong>{$this->ipsclass->lang['pp_find_friends_title']}</strong></legend>
	<table cellpadding='0' cellspacing='1' width='100%'>
	<tr>
		<td class=\"row1\" style='padding:6px;'>
			{$this->ipsclass->lang['pp_find_friends']}
			<br /><a href='{$this->ipsclass->base_url}act=members'>{$this->ipsclass->lang['pp_go_memberlist']}</a>
		</td>
	</tr>
	</table>
</fieldset>
</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:personal_panel:desc::trigger:>
//===========================================================================
function personal_panel($member=array(),$required_output='',$optional_output='',$day='',$mon='',$year='') {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<script type=\"text/javascript\">
<!--
var LocationMax  = \"{$this->ipsclass->vars['max_location_length']}\";
var InterestMax  = \"{$this->ipsclass->vars['max_interest_length']}\";
	function CheckLength(Type){
		LocationLength  = document.theForm.Location.value.length;
		InterestLength  = document.theForm.Interests.value.length;
		message  = \"\";
			if (Type == \"location\"){
				if (LocationMax !=0) {
					message = \"{$this->ipsclass->lang['js_location']}: {$this->ipsclass->lang['js_max']} \" + LocationMax + \" {$this->ipsclass->lang['js_characters']}.\";
				}
			else{
            	message = \"\";
            }
            	alert(message + \"  {$this->ipsclass->lang['js_used']} \" + LocationLength + \" {$this->ipsclass->lang['js_so_far']}.\");
            }
    		
            if (Type == \"interest\"){
	            if (InterestMax !=0){
		            message = \"{$this->ipsclass->lang['js_interests']}: {$this->ipsclass->lang['js_max']} \" + InterestMax + \" {$this->ipsclass->lang['js_characters']}.\";
		        }
		        else{
			        message = \"\";
			    }
			    alert(message + \"  {$this->ipsclass->lang['js_used']} \" + InterestLength + \" {$this->ipsclass->lang['js_so_far']}.\");
			}
	}
	
	function ValidateProfile(){
    	LocationLength  = document.theForm.Location.value.length;
    	InterestLength  = document.theForm.Interests.value.length;
    	errors = \"\";
    		if (LocationMax !=0){
	    		if (LocationLength > LocationMax) {
		    		errors = \"{$this->ipsclass->lang['js_location']}:  {$this->ipsclass->lang['js_max']} \" + LocationMax + \" {$this->ipsclass->lang['js_characters']}.  {$this->ipsclass->lang['js_used']}: \" + LocationLength;
		    	}
		    }
		   	if (InterestMax !=0){
        		if (InterestLength > InterestMax){
	        		errors = errors + \"  {$this->ipsclass->lang['js_interests']}:  {$this->ipsclass->lang['js_max']} \" + InterestMax + \" {$this->ipsclass->lang['js_characters']}.  {$this->ipsclass->lang['js_used']}: \" + InterestLength;
	        	}
	        }
	        if (errors != \"\"){
		        alert(errors);
		        return false;
		       	}
		    else{
			    return true;
			   	}
	}
-->
</script>
<form action=\"{$this->ipsclass->base_url}auth_key={$member['key']}\" method=\"post\" name=\"theForm\" onsubmit=\"return ValidateProfile()\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"21\" />
" . (($required_output) ? ("
	<div class='subtitle'>{$this->ipsclass->lang['cf_required']}</div>
		<table cellpadding='0' cellspacing='0' width='100%'>
		$required_output
		</table>
	<br />
") : ("")) . "
	<div class='subtitle'>{$this->ipsclass->lang['profile_title']}</div>
	<table cellpadding='0' cellspacing='0' width='100%'>
	" . ((($this->ipsclass->vars['post_titlechange']) and ($member['posts'] > $this->ipsclass->vars['post_titlechange'])) ? ("
		<tr>
			<td width=\"30%\" class=\"row1\" style='padding:6px;'><b>{$this->ipsclass->lang['member_title']}</b></td>
			<td width=\"70%\" class=\"row2\" style='padding:6px;'><input type=\"text\" size=\"40\" maxlength=\"120\" name=\"member_title\" value=\"{$this->ipsclass->member['title']}\" /></td>
		</tr>
	") : ("")) . "
	" . (($day AND $mon AND $year) ? ("
		<tr>
			<td width=\"30%\" class=\"row1\" style='padding:6px;'><b>{$this->ipsclass->lang['birthday']}</b></td>
			<td width=\"70%\" class=\"row2\" style='padding:6px;'>
				<select name=\"month\">&nbsp;
					{$mon}
				</select>			
				<select name=\"day\">&nbsp;
					{$day}
				</select> 
				<select name=\"year\">&nbsp;
					{$year}
				</select>
			</td>
		</tr>
	") : ("")) . "
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;'>{$this->ipsclass->lang['panel_gender']}</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><select class='select' name='gender'>
			<option value='male'" . (($this->ipsclass->member['pp_gender']=='male') ? (" selected='selected'") : ("")) . ">{$this->ipsclass->lang['panel_gender_m']}</option>
			<option value='female'" . (($this->ipsclass->member['pp_gender']=='female') ? (" selected='selected'") : ("")) . ">{$this->ipsclass->lang['panel_gender_f']}</option>
			<option value='mystery'" . (($this->ipsclass->member['pp_gender']=='') ? (" selected='selected'") : ("")) . ">{$this->ipsclass->lang['panel_gender_u']}</option>
			</select>
		</td>
	</tr>  
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;'>{$this->ipsclass->lang['website']}</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><input type=\"text\" size=\"40\" maxlength=\"1200\" name=\"WebSite\" value=\"{$member['website']}\" /></td>
	</tr>  
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;'>{$this->ipsclass->lang['icq']}</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><input type=\"text\" size=\"40\" maxlength=\"20\" name=\"ICQNumber\" value=\"{$member['icq_number']}\" /></td>
	</tr>
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;'>{$this->ipsclass->lang['aol']}</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><input type=\"text\" size=\"40\" maxlength=\"200\" name=\"AOLName\" value=\"{$member['aim_name']}\" /></td>
	</tr>
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;'>{$this->ipsclass->lang['yahoo']}</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><input type=\"text\" size=\"40\" maxlength=\"200\" name=\"YahooName\" value=\"{$member['yahoo']}\" /></td>
	</tr>
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;'>{$this->ipsclass->lang['msn']}</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><input type=\"text\" size=\"40\" maxlength=\"200\" name=\"MSNName\" value=\"{$member['msnname']}\" /></td>
	</tr>
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;'>{$this->ipsclass->lang['location']}<br />(<a href=\"javascript:CheckLength('location');\">{$this->ipsclass->lang['check_length']}</a>)</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><input type=\"text\" size=\"40\" name=\"Location\" value=\"{$member['location']}\" /></td>
	</tr>
	<tr>
		<td width=\"30%\" class=\"row1\" style='padding:6px;' valign=\"top\">{$this->ipsclass->lang['interests']}<br />(<a href=\"javascript:CheckLength('interest');\">{$this->ipsclass->lang['check_length']}</a>)</td>
		<td width=\"70%\" class=\"row2\" style='padding:6px;'><textarea cols=\"60\" rows=\"10\" wrap=\"soft\" name=\"Interests\">{$member['interests']}</textarea></td>
	</tr>
	" . (($optional_output) ? ("
		$optional_output
	") : ("")) . "
	<tr>
		<td class=\"formbuttonrow\" align=\"center\" colspan=\"2\"><input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['submit_profile']}\" /></td>
	</tr>
	</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:personal_portal_settings:desc::trigger:>
//===========================================================================
function personal_portal_settings($member=array()) {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action='{$this->ipsclass->base_url}act=usercp&amp;CODE=personal_portal_save&amp;md5check={$this->ipsclass->md5_check}' method='POST'>
<table cellpadding='0' cellspacing='0' width='100%'>
" . (($this->ipsclass->member['g_edit_profile']==1) ? ("
	<tr>
		<td colspan='2' class='subtitle'>{$this->ipsclass->lang['m_personal_statement']} <span class='desc'>{$this->ipsclass->lang['m_char_limit']}</span></td>
	</tr>
	<tr>
		<td class='row1' colspan='2'>
			<textarea name='pp_bio_content' rows='5' cols='60' style='width:95%;height:100px'>{$member['_pp_bio_content']}</textarea>
		</td>
	</tr>
") : ("")) . "
	<tr>
		<td colspan='2' class='subtitle'>{$this->ipsclass->lang['m_notifications']}</td>
	</tr>
	<tr>
		<td class='row1' style='width: 40%'>
			<strong>{$this->ipsclass->lang['m_new_comments']}</strong><br />
			<span class='desc'>{$this->ipsclass->lang['m_choose_comm_type']}</span>
		</td>
		<td class='row2'>
			<select name='pp_setting_notify_comments'>{$member['_pp_setting_notify_comments']}</select>
		</td>
	</tr>
	<tr>
		<td class='row1'>
			<strong>{$this->ipsclass->lang['m_new_friends']}</strong><br />
			<span class='desc'>{$this->ipsclass->lang['m_choose_friend_type']}</span>
		</td>
		<td class='row2'>
			<select name='pp_setting_notify_friend'>{$member['_pp_setting_notify_friend']}</select>
		</td>
	</tr>
	
	<tr>
		<td colspan='2' class='subtitle'>{$this->ipsclass->lang['m_mod_type']}</td>
	</tr>
	<tr>
		<td class='row1' style='width: 40%'>
			<strong>{$this->ipsclass->lang['m_new_comments']}</strong><br />
			<span class='desc'>{$this->ipsclass->lang['m_choose_cmod_type']}</span>
		</td>
		<td class='row2'>
			<select name='pp_setting_moderate_comments'>{$member['_pp_setting_moderate_comments']}</select>
		</td>
	</tr>
	<tr>
		<td class='row1'>
			<strong>{$this->ipsclass->lang['m_new_friends']}</strong><br />
			<span class='desc'>{$this->ipsclass->lang['m_choose_fmod_type']}</span>
		</td>
		<td class='row2'>
			<select name='pp_setting_moderate_friends'>{$member['_pp_setting_moderate_friends']}</select>
		</td>
	</tr>
	<tr>
		<td class='formbuttonrow' style='text-align: center' colspan='2'>	
			<input type='submit' class='button' value='{$this->ipsclass->lang['m_save_settings']}' />
		</td>
	</tr>
</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:photo_page:desc::trigger:>
//===========================================================================
function photo_page($error="",$cur_photo="",$show_size="",$key="",$p_max="",$max_file_size=0) {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "" . (($error) ? ("
	<div class='input-warn-content'>$error</div>
") : ("")) . "
<form action=\"{$this->ipsclass->base_url}auth_key=$key\" enctype=\"multipart/form-data\" method=\"post\" name=\"bob\" onsubmit=\"return checkform();\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"dophoto\" />
<input type='hidden' name='delete_photo' id='ucp-delete_photo' value='0' />
<div class=\"subtitle\">{$this->ipsclass->lang['pph_title']}</div>
<p>{$this->ipsclass->lang['pph_desc']}<br />{$this->ipsclass->lang['pph_max']}</p>
<div class=\"subtitle\">{$this->ipsclass->lang['pph_current']}</div>
<div align=\"center\">
 <p>$cur_photo<br />$show_size</p>
</div>
<div class=\"subtitle\">{$this->ipsclass->lang['pph_change']}</div>
<table class='ipbtable' cellspacing=\"0\">
	" . (($p_max and $max_file_size) ? ("
		<tr>
			<td class=\"row1\">{$this->ipsclass->lang['pph_upload']}</td>
			<td class=\"row2\"><input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"$max_file_size\" /><input type=\"file\" name=\"upload_photo\" value=\"\" size=\"40\" /></td>
		</tr>
	") : ("")) . "
	" . ((! $this->ipsclass->vars['disable_ipbsize']) ? ("
		<tr>
			<td class=\"row1\">&nbsp;</td>
			<td class=\"row2\"><b>{$this->ipsclass->lang['pph_autosize']}</b><br />({$this->ipsclass->lang['pph_as_desc']})</td>
		</tr>
	") : ("
		<tr>
			<td class=\"row1\">&nbsp;</td>
			<td class=\"row2\"><b>{$this->ipsclass->lang['width']}</b>&nbsp;<input type=\"text\" size=\"3\" name=\"man_width\" />&nbsp;&nbsp;<b>{$this->ipsclass->lang['height']}</b>&nbsp;<input type=\"text\" size=\"3\" name=\"man_height\" /></td>
		</tr>
	")) . "
</table>
<div align=\"center\" class=\"formbuttonrow\">
	<input type=\"submit\" class='button' name=\"submit\" value=\"{$this->ipsclass->lang['pph_submit']}\" />
	&nbsp;&nbsp;&nbsp;&nbsp;<input class='button' type=\"submit\" onclick=\"document.getElementById('ucp-delete_photo').value=1;\" name=\"remove\" value=\"{$this->ipsclass->lang['pph_remove']}\" />
</div>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:render_forum_row:desc::trigger:>
//===========================================================================
function render_forum_row($data="",$class1='row2',$class2='row1',$classposts='row2',$inforum=0) {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<!-- Begin Topic Entry {$data['tid']} -->
<tr> 
	<td align=\"center\" class=\"$class2\" id='tid-folder-{$data['tid']}' onclick='return topic_toggle_folder(\"{$data['tid']}\", \"{$data['state']}\");'>{$data['folder_img']}</td>
	<td align=\"center\" class=\"$class2\">{$data['topic_icon']}</td>
	<td class=\"$class2\" valign=\"middle\">
	    <div style='float:right'>{$data['_rate_img']}</div>
		<div>
			{$data['go_new_post']}{$data['prefix']} {$data['attach_img']}<span id='tid-span-{$data['tid']}'><a id=\"tid-link-{$data['tid']}\" href=\"{$this->ipsclass->base_url}showtopic={$data['tid']}\" title=\"{$this->ipsclass->lang['topic_started_on']} {$data['start_date']}\">{$data['title']}</a></span> {$data['PAGES']}
			<div class=\"desc\"><span onclick='return span_desc_to_input(\"{$data['tid']}\");' id='tid-desc-{$data['tid']}'>{$data['description']}</span></div>
		</div>
	</td>
	<td align='center' class=\"$classposts\">
     {$data['posts']}
" . (($data['_hasqueued'] == 1 and $inforum == 1) ? ("
&nbsp;<a href=\"{$this->ipsclass->base_url}showtopic={$data['tid']}&amp;modfilter=invisible_posts\"><{BC_QUEUED_POSTS}></a>
") : ("")) . "
    </td>
	<td align=\"center\" class=\"$class1\">{$data['starter']}</td>
	<td align=\"center\" class=\"$class1\">{$data['views']}</td>
	<td class=\"$class1\"><span class=\"lastaction\">{$data['last_post']}<br /><a href=\"{$this->ipsclass->base_url}showtopic={$data['tid']}&amp;view=getlastpost\">{$data['last_text']}</a> <b>{$data['last_poster']}</b></span></td>
" . (($this->ipsclass->member['is_mod'] == 1 and $inforum == 1 and $data['tidon'] == 1) ? ("
<td align=\"center\" class=\"$class1\"><input type='hidden' name='tid_{$data['real_tid']}' id='tid_{$data['real_tid']}' /><a href=\"#\" title=\"{$this->ipsclass->lang['click_for_mod']}\" onclick=\"forum_toggle_tid('{$data['real_tid']}'); return false;\"><img name=\"img{$data['real_tid']}\" id='ipb-topic-{$data['real_tid']}' src=\"{$this->ipsclass->vars['img_url']}/topic_selected.gif\" alt='' /></a></td>
") : ("")) . "
" . (($this->ipsclass->member['is_mod'] == 1 and $inforum == 1 and $data['tidon'] == 0) ? ("
<td align=\"center\" class=\"$class1\"><input type='hidden' name='tid_{$data['real_tid']}' id='tid_{$data['real_tid']}' /><a href=\"#\" title=\"{$this->ipsclass->lang['click_for_mod']}\" onclick=\"forum_toggle_tid('{$data['real_tid']}'); return false;\"><img name=\"img{$data['real_tid']}\" id='ipb-topic-{$data['real_tid']}' src=\"{$this->ipsclass->vars['img_url']}/topic_unselected.gif\" alt='' /></a></td>
") : ("")) . "
</tr>
<!-- End Topic Entry {$data['tid']} -->";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:settings_end:desc::trigger:>
//===========================================================================
function settings_end($data="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['settings_display']}</div>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class='row1' style='width: 60%'>{$this->ipsclass->lang['settings_viewsig']}</td>
		<td class='row2'>{$data['SIG']}</td>
	</tr>
	<tr>
		<td class='row1'>{$this->ipsclass->lang['settings_viewimg']}</td>
		<td class='row2'>{$data['IMG']}</td>
	</tr>
	<tr>
		<td class='row1'>{$this->ipsclass->lang['settings_viewava']}</td>
		<td class='row2'>{$data['AVA']}</td>
	</tr>
	<tr>
		<td class='row1'>{$this->ipsclass->lang['settings_dopopup']}</td>
		<td class='row2'>{$data['POP']}</td>
    </tr>
	<tr>
		<td class='row1'>{$this->ipsclass->lang['pp_number_posts']}</td>
		<td class='row2'>
			<select name=\"postpage\">
				{$data['PPS']}
			</select>
		</td>
	</tr>
	<tr>
		<td class='row1'>{$this->ipsclass->lang['pp_number_topics']}</td>
		<td class='row2'><select name=\"topicpage\">{$data['TPS']}</select></td>
	</tr>
" . (($this->ipsclass->member['members_disable_pm'] != 2) ? ("
<tr>
	 <td class=\"subtitle\" colspan=\"2\">{$this->ipsclass->lang['ucp_op_pm_title']}</td>
	</tr>
	<tr>
		<td class='row1'>{$this->ipsclass->lang['ucp_op_pm']}<div class=\"desc\">{$this->ipsclass->lang['ucp_op_pm_dowhat']}</div></td>
		<td class='row2'>{$data['PMS']}</td>
	</tr>
") : ("")) . "
	<tr>
	 <td class=\"subtitle\" colspan=\"2\">{$this->ipsclass->lang['ucp_title_posting']}</td>
	</tr>
	<tr>
		<td class='row1'>{$this->ipsclass->lang['open_qr']}</td>
		<td class='row2'>{$data['QR']}</td>
	</tr>
" . (($this->ipsclass->vars['posting_allow_rte'] == 1) ? ("
<tr>
		<td class='row1'>{$this->ipsclass->lang['type_of_editor']}<br /><span class='desc'>{$this->ipsclass->lang['rte_text']}</span></td>
		<td class='row2'>{$data['editor']}</td>
	</tr>
") : ("")) . "
	<tr>
		<td class=\"formbuttonrow\" colspan=\"2\">
			<input type=\"submit\" class='button' name=\"submit\" value=\"{$this->ipsclass->lang['settings_submit']}\" />
		</td>
	</tr>
	</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:settings_header:desc::trigger:>
//===========================================================================
function settings_header($Profile="",$time_select="",$time="",$dst_check="",$key="",$dst_correction='') {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action=\"{$this->ipsclass->base_url}auth_key=$key\" method=\"post\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"05\" />
<table width='100%' cellpadding='0' cellspacing='0'>
	<tr>
		<td class='subtitle' colspan='2'>{$this->ipsclass->lang['settings_time']}</td>
	</tr>
	<tr>
		<td class='row1' style='width: 30%'>
			<strong>{$this->ipsclass->lang['settings_time_txt']}</strong>
		</td>
		<td class='row2'>
			{$this->ipsclass->lang['settings_time_txt2']} $time<br />
			$time_select
		</td>
	</tr>
	<tr>
		<td class='row1'>
			<strong>{$this->ipsclass->lang['dst_correction_title']}</strong>
		</td>
		<td class='row2'>
		" . (($this->ipsclass->input['dsterror'] == 1) ? ("
			<div style='color:red;font-weight:bold'>
				 {$this->ipsclass->lang['dst_error']}
			</div>
		") : ("")) . "
			<input class='checkbox' type=\"checkbox\" id='dst-check' onclick='toggle_dst()' name=\"DSTCHECK\" value=\"1\" $dst_correction /> &nbsp;<strong>{$this->ipsclass->lang['dst_auto']}</strong><br />
			<span class='desc'>{$this->ipsclass->lang['dst_auto2']}</span>
			
			<div id='dst-manual'>
			   <input class='checkbox'  type=\"checkbox\" name=\"DST\" value=\"1\" $dst_check /> &nbsp;<strong>{$this->ipsclass->lang['dst_box']}</strong>
			   <div class='desc'>{$this->ipsclass->lang['dst_box2']}</div>
			</div>
		</td>
	</tr>
</table>
<script type=\"text/javascript\">
//<![CDATA[
function toggle_dst()
{
	if ( document.getElementById( 'dst-check' ).checked )
	{
		document.getElementById( 'dst-manual' ).style.display = 'none';
	}
	else
	{
		document.getElementById( 'dst-manual' ).style.display = 'block';
	}
}
toggle_dst();
//]]>
</script>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:Show_attachments:desc::trigger:>
//===========================================================================
function Show_attachments($data="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<a href=\"{$this->ipsclass->base_url}act=attach&amp;type={$data['type']}&amp;id={$data['attach_id']}\" title=\"{$this->ipsclass->lang['attach_dl']}\" target=\"_blank\"><img src=\"{$this->ipsclass->vars['mime_img']}/{$data['mime_image']}\" alt=\"{$this->ipsclass->lang['attached_file']}\" /></a>
&nbsp;<a href=\"{$this->ipsclass->base_url}act=attach&amp;type={$data['type']}&amp;id={$data['attach_id']}\" title=\"{$this->ipsclass->lang['attach_dl']}\" target=\"_blank\">{$data['attach_file']}</a> ( {$data['file_size']} )
<span class=\"desc\">{$this->ipsclass->lang['attach_hits']}: {$data['attach_hits']}</span><br />";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:signature:desc::trigger:>
//===========================================================================
function signature($preview_sig="",$editor_html="",$key="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form id='postingform' onsubmit='return ValidateForm()' action=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=23\" method=\"post\" name=\"REPLIER\">
<input type='hidden' name='key' value='{$key}' />
<input type='hidden' name='removeattachid' value='0' />
 <div class=\"subtitle\">{$this->ipsclass->lang['cp_current_sig']}</div>
 <div class=\"signature\" style=\"padding: 5px;\">{$preview_sig}</div>
 <div class=\"subtitle\">{$this->ipsclass->lang['cp_edit_sig']}</div>
 <div class='row1' align='center' style='padding:3px'>{$editor_html}</div>
 <div class='formbuttonrow' align='center'><input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['cp_submit_sig']}\" /></div>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:splash:desc::trigger:>
//===========================================================================
function splash($member="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$this->ipsclass->lang['stats_header']}</div>
" . (($this->ipsclass->member['bio'] == "dupemail") ? ("
<div><b>{$this->ipsclass->lang['conv_email_warning_title']}<br /><br />{$this->ipsclass->lang['conv_email_warning']}</b></div>
") : ("")) . "
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td width=\"50%\" valign=\"top\">
			<fieldset class=\"search\">
			<legend><b>{$this->ipsclass->lang['splash_attach']}</b></legend>
" . (($member['attach_html'] != "") ? ("
{$member['attach_html']}
") : ("
<br /><br /><div align=\"center\">{$this->ipsclass->lang['splash_noattach']}</div><br /><br />&nbsp;
")) . "
			</fieldset>
		</td>
		<td width=\"50%\" valign=\"top\">
			<fieldset class=\"search\">
			<legend><b>{$this->ipsclass->lang['stats_header']}</b></legend>
				<table class='ipbtable' cellspacing=\"0\">
					<tr>
						<td width=\"50%\"><b>{$this->ipsclass->lang['email_address']}</b></td>
						<td width=\"50%\">{$member['member_email']}</td>
					</tr>
					<tr>
						<td width=\"50%\"><b>{$this->ipsclass->lang['number_posts']}</b></td>
						<td width=\"50%\">{$member['member_posts']}</td>
					</tr>
					<tr>
						<td width=\"50%\"><b>{$this->ipsclass->lang['registered']}</b></td>
						<td width=\"50%\">{$member['date_registered']}</td>
					</tr>
					<tr>
						<td width=\"50%\"><b>{$this->ipsclass->lang['daily_average']}</b></td>
						<td width=\"50%\">{$member['daily_average']}</td>
					</tr>
				</table>
			</fieldset>
		</td>
	</tr>
</table>
<script type=\"text/javascript\" src=\"jscripts/ipb_forum.js\"></script>
<div class=\"borderwrapm\">
<div class=\"maintitle\">{$this->ipsclass->lang['splash_last5']}</div>
	<table class='ipbtable' cellspacing=\"0\">
" . (($member['topic_html'] != "") ? ("
<tr>
			<th width=\"40%\" nowrap=\"nowrap\" colspan=\"3\">{$this->ipsclass->lang['h_topic_title']}</th>
			<th width=\"7%\" align=\"center\" nowrap=\"nowrap\">{$this->ipsclass->lang['h_replies']}</th>
			<th width=\"14%\" align=\"center\" nowrap=\"nowrap\">{$this->ipsclass->lang['h_topic_starter']}</th>
			<th width=\"7%\" align=\"center\" nowrap=\"nowrap\">{$this->ipsclass->lang['h_hits']}</th>
			<th width=\"32%\" nowrap=\"nowrap\">{$this->ipsclass->lang['h_last_action']}</th>
		</tr>
      {$member['topic_html']}
") : ("
<tr>
			<td colspan=\"7\" align=\"center\" class='row2'><b>{$this->ipsclass->lang['splash_nopost']}</b></td>
		</tr>
")) . "
	</table>
</div>
<div class=\"subtitle\">{$this->ipsclass->lang['note_pad']}</div>
<div align=\"center\" style='padding-bottom:6px;'>
<form name=\"notepad\" action=\"{$this->ipsclass->base_url}\" method=\"post\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"s\" value=\"{$this->ipsclass->session_id}\" />
<input type=\"hidden\" name=\"CODE\" value=\"20\" />
<p>
        <textarea cols=\"65\" rows=\"{$member['SIZE']}\" name=\"notes\">{$member['NOTES']}</textarea>
        	<br />
	    {$this->ipsclass->lang['ta_size']}&nbsp;
	    <select name=\"ta_size\">
	    	{$member['SIZE_CHOICE']}
	    </select>
	<input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['submit_notepad']}\" />
</p>
</form>
</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:subs_end:desc::trigger:>
//===========================================================================
function subs_end($text="",$days="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
		<td align=\"center\" class=\"formbuttonrow\" valign=\"middle\" colspan=\"6\">
			<select name=\"trackchoice\">
				<option value=\"unsubscribe\">{$this->ipsclass->lang['subs_delete']}</option>
				<option value=\"none\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_none_title']}</option>
				<option value=\"immediate\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_immediate']}</option>
				<option value=\"delayed\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_delayed']}</option>
				<option value=\"daily\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_daily']}</option>
				<option value=\"weekly\">{$this->ipsclass->lang['subs_c_change']} {$this->ipsclass->lang['subs_weekly']}</option>
			</select>&nbsp;&nbsp;
			<input type=\"submit\" class=\"button\" value=\"{$this->ipsclass->lang['with_selected']}\" />
		</td>
	</tr>
</table>
</div>
</form>
<div align=\"right\" style=\"padding: 5px;\"><i>$text</i></div>
<div align=\"right\" style=\"padding: 5px;\">
	<form action=\"{$this->ipsclass->base_url}act=UserCP&amp;CODE=26\" method=\"post\">
		{$this->ipsclass->lang['show_topics_from']}
		<select name=\"datecut\">
			$days
		</select>
 	<input type=\"submit\" class='button' value=\"{$this->ipsclass->lang['jmp_go']}\" />
 	</form>
</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:subs_forum_row:desc::trigger:>
//===========================================================================
function subs_forum_row($fid="",$fname="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
		<td colspan=\"6\" class=\"row1\"><b>$fname</b></td>
	</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:subs_header:desc::trigger:>
//===========================================================================
function subs_header() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<!-- inbox folder -->
<script type=\"text/javascript\">
<!--
	function CheckAll(cb){
		var fmobj = document.mutliact;
			for (var i=0;i<fmobj.elements.length;i++){
				var e = fmobj.elements[i];
				if ((e.name != \"allbox\") && (e.type==\"checkbox\") && (!e.disabled)){
				e.checked = fmobj.allbox.checked;
				}
			}
	}
	function CheckCheckAll(cb){	
		var fmobj = document.mutliact;
		var TotalBoxes = 0;
		var TotalOn = 0;
			for (var i=0;i<fmobj.elements.length;i++){
		  		var e = fmobj.elements[i];
		 		 if ((e.name != \"allbox\") && (e.type==\"checkbox\")){
			 		 TotalBoxes++;
			 		 if (e.checked){
				 		 TotalOn++;
				 	}
				 }
			}
			
			if (TotalBoxes==TotalOn) {fmobj.allbox.checked=true;}
			else{
				fmobj.allbox.checked=false;
			}
	}
-->
</script>
<script type=\"text/javascript\" src=\"jscripts/ipb_forum.js\"></script> 
<div class=\"subtitle\">{$this->ipsclass->lang['subs_header']}</div>
<form action=\"{$this->ipsclass->base_url}\" name=\"mutliact\" method=\"post\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"27\" />
<div class=\"borderwrapm\">
	<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<th width=\"5%\">&nbsp;</th>
			<th width=\"55%\">{$this->ipsclass->lang['subs_topic']}</th>
			<th align=\"center\" width=\"5%\">{$this->ipsclass->lang['subs_replies']}</th>
			<th align=\"center\" width=\"5%\">{$this->ipsclass->lang['subs_view']}</th>
			<th width=\"25%\">{$this->ipsclass->lang['subs_last_post']}</th>
			<th align=\"center\" width=\"5%\" style='padding: 1px;'><input class='checkbox' name=\"allbox\" type=\"checkbox\" value=\"Check All\" onclick=\"CheckAll();\" /></th>
		</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:subs_none:desc::trigger:>
//===========================================================================
function subs_none() {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
			<td class=\"row2\" align=\"center\" colspan=\"6\">{$this->ipsclass->lang['subs_none']}</td>
		</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:subs_row:desc::trigger:>
//===========================================================================
function subs_row($data="",$type="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
			<td class=\"row2\" align=\"center\" width=\"5%\">{$data['folder_img']}</td>
			<td class=\"row2\">
				<a href=\"{$this->ipsclass->base_url}showtopic={$data['tid']}\">{$data['title']}</a>&nbsp;
				( <a href=\"{$this->ipsclass->base_url}showtopic={$data['tid']}\" target=\"_blank\">{$this->ipsclass->lang['new_window']}</a> )
  				<div class=\"desc\">{$data['description']}{$this->ipsclass->lang['subs_start']} {$data['track_started']}
  					<br />
  					{$this->ipsclass->lang['subs_c_type']}: {$this->ipsclass->lang[$type]}
  				</div>
  			</td>
  			<td class=\"row2\" align=\"center\">{$data['posts']}</td>
  			<td class=\"row2\" align=\"center\">{$data['views']}</td>
  			<td class=\"row2\">{$data['last_post_date']}<br />{$this->ipsclass->lang['subs_by']} {$data['last_poster']}</td>
  			<td class=\"row1\" align=\"center\" style='padding: 1px;'><input class='checkbox' type=\"checkbox\" name=\"id-{$data['trid']}\" value=\"yes\" /></td>
  		</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:subs_show_choice_page:desc::trigger:>
//===========================================================================
function subs_show_choice_page($forum="",$topic="",$method="",$key="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action=\"{$this->ipsclass->base_url}\" method=\"post\" name=\"REPLIER\">
<input type=\"hidden\" name=\"act\" value=\"usercp\" />
<input type=\"hidden\" name=\"CODE\" value=\"end_subs\" />
<input type=\"hidden\" name=\"method\" value=\"$method\" />
<input type=\"hidden\" name=\"auth_key\" value=\"$key\" />
<input type=\"hidden\" name=\"tid\" value=\"{$topic['tid']}\" />
<input type=\"hidden\" name=\"fid\" value=\"{$forum['id']}\" />
<input type=\"hidden\" name=\"st\" value=\"{$this->ipsclass->input['st']}\" />
<div class=\"formsubtitle\">{$this->ipsclass->lang['subs_c_title']}</div>
<div style='padding:4px'>
" . (($topic['tid'] != "") ? ("
<b>{$this->ipsclass->lang['subs_c_topic']} {$topic['title']}</b>
") : ("
<b>{$this->ipsclass->lang['subs_c_forum']} {$forum['name']}</b>
")) . "
	<div class=\"desc\">{$this->ipsclass->lang['subs_exp_text']}</div>
</div>
<table cellspacing=\"0\" width='100%'>
	<tr>
		<td width=\"5%\" align=\"center\"><input class='radiobutton' type=\"radio\" name=\"emailtype\" value=\"none\" /></td>
		<td><b>{$this->ipsclass->lang['subs_none_title']}</b><div class=\"desc\">{$this->ipsclass->lang['subs_none_desc']}</div></td>
	</tr>
	<tr>
		<td width=\"5%\" align=\"center\"><input class='radiobutton' type=\"radio\" name=\"emailtype\" value=\"delayed\" checked=\"checked\" /></td>
		<td><b>{$this->ipsclass->lang['subs_delayed']}</b><div class=\"desc\">{$this->ipsclass->lang['subs_delayed_desc']}</div></td>
	</tr>
	<tr>
		<td width=\"5%\" align=\"center\"><input class='radiobutton' type=\"radio\" name=\"emailtype\" value=\"immediate\" /></td>
		<td><b>{$this->ipsclass->lang['subs_immediate']}</b><div class=\"desc\">{$this->ipsclass->lang['subs_immediate_desc']}</div></td>
	</tr>
	<tr>
		<td width=\"5%\" align=\"center\"><input class='radiobutton' type=\"radio\" name=\"emailtype\" value=\"daily\" /></td>
		<td><b>{$this->ipsclass->lang['subs_daily']}</b><div class=\"desc\">{$this->ipsclass->lang['subs_daily_desc']}</div></td>
	</tr>
	<tr>
		<td width=\"5%\" align=\"center\"><input class='radiobutton' type=\"radio\" name=\"emailtype\" value=\"weekly\" /></td>
		<td><b>{$this->ipsclass->lang['subs_weekly']}</b><div class=\"desc\">{$this->ipsclass->lang['subs_weekly_desc']}</div></td>
	</tr>
	<tr>
		<td class=\"formbuttonrow\" colspan=\"2\"><input type=\"submit\" value=\"{$this->ipsclass->lang['subs_submit']}\" class=\"button\" /></td>
	</tr>
</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:ucp_announce_form:desc::trigger:>
//===========================================================================
function ucp_announce_form($announce="",$button="",$forum_html="",$type="",$editor_html="",$msg="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action=\"{$this->ipsclass->base_url}\" method=\"post\" name=\"REPLIER\" id='postingform' onsubmit='return ValidateForm()'>
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"announce_save\" />
<input type=\"hidden\" name=\"type\" value=\"$type\" />
<input type=\"hidden\" name=\"id\"   value=\"{$announce['announce_id']}\" />
<div class=\"subtitle\">{$button}</div>
" . (($msg != "") ? ("
<div class=\"borderwrapm\"><div class=\"tablepad\">{$msg}</div></div>
") : ("")) . "
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class=\"pformleft\"><b>{$this->ipsclass->lang['announce_form_title']}</b></td>
		<td class=\"pformright\" valign=\"top\"><input type=\"text\" size=\"30\" name=\"announce_title\" value=\"{$announce['announce_title']}\" tabindex=\"1\" /></td>
	</tr>
	<tr>
		<td class=\"pformleft\"><b>{$this->ipsclass->lang['announce_form_start']}</b><div class=\"desc\">{$this->ipsclass->lang['announce_form_startdesc']}</div></td>
		<td class=\"pformright\" valign=\"top\"><input type=\"text\" size=\"10\" name=\"announce_start\" value=\"{$announce['announce_start']}\" tabindex=\"2\" /></td>
	</tr>
	<tr>
		<td class=\"pformleft\"><b>{$this->ipsclass->lang['announce_form_end']}</b><div class=\"desc\">{$this->ipsclass->lang['announce_form_enddesc']}</div></td>
		<td class=\"pformright\" valign=\"top\"><input type=\"text\" size=\"10\" name=\"announce_end\" value=\"{$announce['announce_end']}\" tabindex=\"3\" /></td>
	</tr>
	<tr>
		<td class=\"pformleft\" valign=\"top\"><b>{$this->ipsclass->lang['announce_form_forums']}</b><div class=\"desc\">{$this->ipsclass->lang['announce_form_forums2']}</div></td>
		<td class=\"pformright\" valign=\"top\"><select class=\"dropdown\" multiple=\"multiple\" size=\"10\" name=\"announce_forum[]\" tabindex=\"4\">{$forum_html}</select></td>
	</tr>
	<tr>
		<td class=\"pformleft\" valign=\"top\"><b>{$this->ipsclass->lang['announce_form_content']}</b></td>
		<td class=\"pformright\" valign=\"top\">{$editor_html}</td>
	</tr>
	<tr>
		<td class=\"pformleft\" valign=\"top\"><b>{$this->ipsclass->lang['announce_form_options']}</b></td>
		<td class=\"pformright\" valign=\"middle\">
			<input type=\"checkbox\" class=\"checkbox\" name=\"announce_active\" value=\"1\" {$announce['announce_active_checked']} />&nbsp;{$this->ipsclass->lang['announce_form_enable']}
			<br /><input type=\"checkbox\" class=\"checkbox\" name=\"announce_html_enabled\" value=\"1\" {$announce['html_checkbox']} />&nbsp;{$this->ipsclass->lang['announce_use_html']}
			<br /><input type=\"checkbox\" class=\"checkbox\" name=\"announce_nlbr_enabled\" value=\"1\" {$announce['nlbr_checkbox']} />&nbsp;{$this->ipsclass->lang['announce_use_nlbr']}
		</td>
	</tr>
	<tr>
		<td class=\"formbuttonrow\" colspan=\"2\"><input type=\"submit\" value=\"{$button}\" class=\"button\"  tabindex=\"7\" /></td>
	</tr>
</table>
</form>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:ucp_announce_manage:desc::trigger:>
//===========================================================================
function ucp_announce_manage($content="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<script type=\"text/javascript\">
<!--
 var ipb_lang_js_del_1 = \"{$this->ipsclass->lang['announce_del1']}\";
 var ipb_lang_js_del_2 = \"{$this->ipsclass->lang['announce_del2']}\";
-->
</script>
<script type=\"text/javascript\" src=\"jscripts/ipb_topic.js\"></script>
<div class=\"subtitle\">{$this->ipsclass->lang['announce_current']}</div>
<form action=\"{$this->ipsclass->base_url}\" name=\"mutliact\" method=\"post\">
<input type=\"hidden\" name=\"act\" value=\"UserCP\" />
<input type=\"hidden\" name=\"CODE\" value=\"announce_alter\" />
<div class=\"borderwrapm\">
	<table class='ipbtable' cellspacing=\"0\">
		<tr>
			<th width=\"35%\">{$this->ipsclass->lang['announce_title']}</th>
			<th align=\"center\" width=\"10%\">{$this->ipsclass->lang['announce_starts']}</th>
			<th align=\"center\" width=\"10%\">{$this->ipsclass->lang['announce_end']}</th>
			<th width=\"25%\">{$this->ipsclass->lang['announce_forums']}</th>
			<th width=\"15%\">&nbsp;</th>
		</tr>
" . (($content) ? ("
$content
") : ("
<tr>
			<td align=\"center\" colspan=\"5\">{$this->ipsclass->lang['announce_none']}</td>
		</tr>
")) . "
	<tr>
		<td class=\"formbuttonrow\" colspan=\"5\"><a href=\"{$this->ipsclass->base_url}act=usercp&amp;CODE=announce_add\">{$this->ipsclass->lang['announce_add']}</a></td>
	</tr>
	</table>
</div>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:ucp_announce_manage_row:desc::trigger:>
//===========================================================================
function ucp_announce_manage_row($announce="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<tr>
			<td class=\"row1\"><b><a href=\"{$this->ipsclass->base_url}act=announce&amp;id={$announce['announce_id']}\">{$announce['announce_title']}</a></b> {$announce['announce_inactive']}<div class=\"desc\">{$this->ipsclass->lang['announce_by']} {$announce['members_display_name']}</div></td>
			<td class=\"row2\" align=\"center\">{$announce['announce_starts_converted']}</td>
			<td class=\"row1\" align=\"center\">{$announce['announce_end_converted']}</td>
			<td class=\"row2\"><div class=\"forumdesc\">{$announce['announce_forum_show']}</div></td>
			<td class=\"row1\" align=\"center\">
				<a href=\"{$this->ipsclass->base_url}act=usercp&amp;CODE=announce_edit&amp;id={$announce['announce_id']}\">{$this->ipsclass->lang['announce_edit']}</a>
				&middot; <a href=\"#\" onclick=\"delete_post('{$this->ipsclass->base_url}act=usercp&amp;CODE=announce_delete&amp;id={$announce['announce_id']}'); return false;\">{$this->ipsclass->lang['announce_delete']}</a>
			</td>
		</tr>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:ucp_dname_change:desc::trigger:>
//===========================================================================
function ucp_dname_change($form=array(),$error="",$okmessage="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<form action=\"{$this->ipsclass->base_url}&amp;act=usercp&amp;CODE=dname_complete\" method=\"post\" id='display-form' name=\"form1\">
<div class=\"subtitle\">{$this->ipsclass->lang['dname_title']}</div>
<p>{$form['_lang_string']}</p>
" . (($okmessage != "") ? ("
<div class='input-ok-content' id='dname-okbox'><strong>{$okmessage}</strong></div>
") : ("")) . "
<div class='input-warn-content' id='dname-warnbox' style='display:none;'><strong>{$this->ipsclass->lang['dname_error_title']}</strong><div id='dname-warnbox-content'>{$error}</div></div>
<table class='ipbtable' cellspacing=\"0\">
	<tr>
		<td class='row1' width=\"40%\"><strong>{$this->ipsclass->lang['dname_choose']}</strong><div class='desc'>{$this->ipsclass->lang['dname_choose2']}<br />
		" . (($this->ipsclass->vars['username_characters']) ? ("{$this->ipsclass->vars['username_errormsg']}<br />") : ("")) . "
		{$this->ipsclass->lang['max_dname_length']} {$this->ipsclass->vars['max_user_name_length']}</div></td>
		<td class='row2'><input type=\"text\" name=\"display_name\" id='display-name' maxlength='{$this->ipsclass->vars['max_user_name_length']}' value=\"{$this->ipsclass->input['display_name']}\" /> <img id='display-name-img' src=\"{$this->ipsclass->vars['img_url']}/spacer.gif\" alt=\"\" width='12' height='12' /></td>
	</tr>
	<tr>
		<td class='row1' width=\"40%\"><strong>{$this->ipsclass->lang['dname_password']}</strong><div class='desc'>{$this->ipsclass->lang['dname_password2']}</div></td>
		<td class='row2'><input type=\"password\" name=\"display_password\" id='display-password' value=\"\" /> <img id='display-password-img' src=\"{$this->ipsclass->vars['img_url']}/spacer.gif\" alt=\"\" width='12' height='12' /></td>
	</tr>
</table>
<div class=\"formsubtitle\" style=\"text-align: center;\"><input type=\"submit\" class='button' name=\"change_email\" value=\"{$this->ipsclass->lang['dname_submit']}\" /></div>
</form>
<script type=\"text/javascript\">
//<![CDATA[
dname_max_length    = parseInt(\"{$this->ipsclass->vars['max_user_name_length']}\");
dname_error_no_name = \"{$this->ipsclass->lang['dname_error_no_name']}\";
dname_error_no_pass = \"{$this->ipsclass->lang['dname_error_no_pass']}\";
dname_error_chars   = \"{$this->ipsclass->lang['dname_error_chars']}\";
dname_error_taken   = \"{$this->ipsclass->lang['dname_error_taken']}\";
var allowed_chars 	= \"{$this->ipsclass->vars['username_characters']}\";
var allowed_error 	= \"{$this->ipsclass->vars['username_errormsg']}\";
ucp_dname_init( 'display-name', 'display-password', 'display-form', 'dname-warnbox' );
//]]>
</script>";
//--endhtml--//
return $IPBHTML;
}

//===========================================================================
// <ips:ucp_message:desc::trigger:>
//===========================================================================
function ucp_message($title="",$msg="") {
$IPBHTML = "";
//--starthtml--//
$IPBHTML .= "<div class=\"subtitle\">{$title}</div>
	<p>$msg</p>";
//--endhtml--//
return $IPBHTML;
}



}

/*--------------------------------------------------*/
/*<changed bits>
attachments_top,avatar_external_title,avatar_gallery_end_table,avatar_gallery_start_table,avatar_limits,avatar_main,avatar_upload_field,avatar_url_field,dead_section,email,email_change,email_change_gd,email_change_img,forum_subs_header,iu_add_new,iu_populated_row,iu_start,Menu_bar,menu_bar_new_category,mod_find_user,mod_ip_member_row,mod_ip_start_form,pass_change,personal_panel,personal_portal_settings,photo_page,settings_end,settings_header,signature,splash,subs_header,ucp_announce_form,ucp_announce_manage,ucp_announce_manage_row,ucp_dname_change,ucp_message
</changed bits>*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>